<div id="page-wrapper">
  <h1>Web Speech Synthesis Demo</h1>
  <meta charset="UTF-8">
  <p id="msg"></p>
	<div class="option">
		<label for="voice">Voice</label>
		<select name="voice" id="voice"></select>
	</div>
	<button id="speak">Speak</button>
<script>
var paysA = ["Le Royaume-Uni",
			"Royaume-Uni",
			"Thérésa May",
			"anglais",
			"avec un bol de porridge",
			"Kète Middeultone",
			"dans le métro londonien",
			"en Angleterre",
			"du Royaume-Uni",
			"de Theresa May"]

var paysB = ["La Turquie",
			"Turquie",
			"Erdogan",
			"turc",
			"au kebab",
			"Teurkiche Airlines",
			"à Istanbul",
			"en Turquie",
			"de la Turquie",
			"d'Erdogan"]

var paysC = ["Le Vatican",
			"Vatican",
			"Le pape François",
			"catholique",
			"à l'eau bénite",
			"Le cardinal Sodano",
			"dans la Basilique Saint-Pierre",
			"au Vatican",
			"du Vatican",
			"du pape François",
			]


payslotto = [ paysA, paysB, paysC ]

var numeroResultat = 0
var premierResultat = undefined
var secondResultat = undefined
var pays1 = paysA
var pays2 = paysB

var phrasetype =[
"rien",
"rien",
]

var geopolitik = 0;

//cette fonction calcule ma boule au hasard
function numeroBouleAleatoire(nombreDeBoules){
	numeroResultat = Math.floor(Math.random() * Math.floor(nombreDeBoules));
	console.log("numero du pays:"+numeroResultat);
}

function collision() {
	console.log("evenement sur collision");
// à cet endroit du code il faudra assigner les deux boules en collision au hasard plutôt que parmis les trois boules au hasard
	numeroBouleAleatoire(3);
	premierResultat = numeroResultat;
	pays1 = payslotto[premierResultat];
	console.log("pays1: "+ pays1[0]);

	numeroBouleAleatoire(3);
	if (numeroResultat == premierResultat){
		console.log("bad case")
			while (numeroResultat == premierResultat)
				{numeroBouleAleatoire(3);
				console.log("still bad case...");
			}
		console.log("GOOD case now");
	}else{
		console.log("GOOD case")
	};
	secondResultat = numeroResultat
	pays2 = payslotto[secondResultat];
	console.log("pays2: "+ pays2[0]);

}


function surcollision(){
collision();

//reminder :
// 0 = "Le Pays"
// 1 = "Pays"
// 2 = "leaderPays"
// 3 = "adjectifPays"
// 4 = "objet symbolique du Pays"
// 5 = "organisation symbolique du Pays"
// 6 = "Le (endroit symbolique du pays)"
// 7 = " in ( pays )"
// 8 = " from ( pays )"
// 9 : " of the ( president du pays )"

phrasetype =[
"Attentat "+pays1[6]+"."+" Le terroriste présumé est "+pays2[3]+". "+pays2[5]+" serait impliqué.",
"Frappes aériennes "+pays1[6]+": "+pays2[0]+" contrattaque.",
"Le sommet "+pays1[1]+"-"+pays2[1]+" aura-t-il lieu?",
"Attaque chimique "+ pays1[4] + " " + pays2[6] + ". L'ONU condamne "+ pays1[2] + ".",
"Les services secrets "+ pays1[3] + " suspectés de l'assassinat d'un scientifique "+ pays2[3] + ".",
pays1[2] + " dénonce la légalisation du cannabice " + pays2[7],
pays1[1]+"-"+pays2[1]+": une longue histoire de préjugés et de domination.",
"Ingérence présumée " + pays1[8] + " dans l'élection " + pays2[9],
"Entre les services secrets " + pays1[3] + " et " + pays2[3] + ", la guerre froide est de retour.",
"Deux ex-espions " + pays1[3] + " suspectés d'avoir travaillé pour " + pays2[0] + ".",
"Empoisonnements suspects " + pays1[6] + ". " + pays1[5] + " accuse " + pays2[0] + ".",
Math.floor(Math.random()*38) + " morts dans une attaque au sarin " + pays1[7] + ". " + pays2[2] + " revendique l'attaque."
];

geopolitik = Math.floor(Math.random()*Math.floor(phrasetype.length));
textoutput = (phrasetype[geopolitik]);
console.log("situation type: "+geopolitik);
console.log(textoutput);
lastgeopolitik = geopolitik;
}

surcollision();
</script>







 <script type = text/javascript>
  /*
 * Check for browser support
 */

// Get the 'speak' button
var button = document.getElementById('speak');
// Get the voice select element.
var voiceSelect = document.getElementById('voice');

// Fetch the list of voices and populate the voice options.
function loadVoices() {
  // Fetch the available voices.
	var voices = speechSynthesis.getVoices();

  // Loop through each of the voices.
	voices.forEach(function(voice, i) {
    // Create a new option element.
		var option = document.createElement('option');

    // Set the options value and text.
		option.value = voice.name;
		option.innerHTML = voice.name;

    // Add the option to the voice selector.
		voiceSelect.appendChild(option);
	});
}

// Execute loadVoices.
loadVoices();

// Chrome loads voices asynchronously.
window.speechSynthesis.onvoiceschanged = function(e) {
  loadVoices();
};


// Create a new utterance for the specified text and add it to
// the queue.
function speak(text) {
  // Create a new instance of SpeechSynthesisUtterance.
	var msg = new SpeechSynthesisUtterance();

  // Set the text.
  	surcollision();
	msg.text = textoutput;

  // Set the attributes.
	msg.volume = 1;
	msg.rate = 1;
	msg.pitch = 1;

  // If a voice has been selected, find the voice and set the
  // utterance instance's voice attribute.
	if (voiceSelect.value) {
		msg.voice = speechSynthesis.getVoices().filter(function(voice) { return voice.name == voiceSelect.value; })[0];
	}

  // Queue this utterance.
	window.speechSynthesis.speak(msg);
}


// Set up an event listener for when the 'speak' button is clicked.
button.addEventListener('click', function(e) {
	speak(msg);
});
 </script>
</div>
